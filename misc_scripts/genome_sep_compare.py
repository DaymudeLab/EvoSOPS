g_ga = [[[1, 0, 1, 1, 7, 6, 9, 3, 10, 1], [1, 3, 9, 0, 0, 0, 10, 0, 9, 9], [6, 5, 1, 3, 1, 0, 0, 0, 0, 0], [4, 4, 8, 1, 8, 1, 0, 0, 5, 4], [8, 2, 1, 0, 3, 0, 8, 1, 0, 5], [8, 1, 4, 0, 3, 1, 2, 0, 0, 0]], [[8, 9, 0, 0, 8, 8, 2, 7, 6, 7], [9, 1, 5, 0, 0, 4, 0, 1, 6, 4], [5, 5, 5, 0, 1, 0, 5, 5, 0, 4], [7, 7, 9, 0, 8, 8, 0, 4, 0, 7], [9, 5, 9, 0, 10, 0, 2, 0, 0, 8], [6, 2, 8, 1, 0, 6, 4, 1, 2, 0]], [[7, 4, 0, 4, 2, 2, 9, 2, 10, 10], [5, 3, 7, 0, 0, 9, 2, 0, 8, 0], [7, 5, 4, 0, 0, 1, 1, 0, 0, 0], [1, 6, 7, 10, 4, 1, 4, 7, 2, 4], [0, 7, 1, 9, 8, 1, 0, 8, 0, 10], [7, 0, 7, 9, 0, 0, 1, 6, 2, 2]], [[10, 6, 2, 9, 3, 6, 8, 1, 8, 1], [10, 6, 8, 8, 9, 6, 0, 1, 8, 2], [9, 9, 8, 8, 3, 5, 10, 2, 1, 7], [5, 3, 1, 4, 8, 10, 0, 1, 0, 2], [5, 4, 8, 7, 4, 6, 0, 6, 9, 9], [4, 6, 0, 3, 10, 2, 2, 8, 9, 9]], [[7, 7, 4, 3, 5, 9, 2, 2, 3, 0], [8, 9, 5, 4, 0, 2, 10, 1, 5, 8], [8, 9, 10, 5, 0, 1, 1, 4, 3, 10], [7, 7, 9, 1, 6,6, 8, 7, 0, 4], [8, 4, 5, 7, 5, 1, 2, 1, 1, 7], [5, 10, 4, 1, 0, 2, 6, 3, 6, 0]], [[7, 6, 7, 4, 5, 6, 10, 6, 4, 10], [10, 6, 6, 0, 0, 0, 0, 10, 0, 3], [6, 5, 7, 0, 9, 9, 2, 3, 5, 2], [5, 6, 4, 9, 3, 1, 5, 0, 8, 0], [8, 1, 4, 0, 0, 0, 0, 0, 0, 3], [7, 7, 6, 3, 4, 3, 0, 1, 2, 6]], [[10, 7, 7, 4, 7, 4, 3, 2, 0, 7], [10, 7, 9, 2, 4, 2, 2, 4, 10, 7], [10, 10, 8, 1, 9, 7, 9, 1, 1, 10], [6, 5, 2, 5, 7, 5, 4, 0, 1, 10], [8, 3, 2, 4, 3, 5, 5, 5, 2, 10], [10, 1, 6, 3, 8, 10, 7, 9, 6, 4]], [[10, 7, 10, 3, 8, 3, 8, 9, 3, 1], [9, 8, 8, 1, 4, 2, 9, 3, 5, 6], [10, 7, 4, 7, 3, 9, 6, 6, 2, 6], [5, 3, 5, 1, 7, 9, 0, 3, 8, 10], [8, 7, 8, 0, 9, 8, 4, 0, 5, 8], [5, 8, 6, 8, 5, 5, 4, 8, 6, 7]], [[7, 8, 3, 7, 0, 0, 5, 2, 4, 7], [10, 4, 10, 1, 4, 7, 8, 1, 2, 0], [7, 5, 5, 5, 8, 7, 0, 1, 4, 9], [8, 2, 7, 0, 7, 3, 0, 6, 6, 5], [8, 7, 10, 9, 5, 5, 0, 0, 1, 6], [7, 2, 4, 3, 7, 9, 0, 3, 5, 10]], [[10, 4, 10, 8, 1, 1, 10, 4, 4, 9], [8, 8, 8, 9, 3, 7, 4, 0, 10, 10], [10, 4, 10, 0, 8, 4, 1, 2, 9, 0], [8, 8, 6, 7, 9, 2, 9, 0, 8, 4], [7, 10, 2, 1, 3, 2, 0, 0, 4, 3], [7, 4, 7, 7, 0, 8, 3, 0, 2, 4]]]
g_theory = [[[0, 0, 1, 0, 0, 2, 0, 0, 0, 3], [0, 0, 1, 0, 0, 2, 0, 0, 0, 3], [0, 0, 1, 0, 0, 2, 0, 0, 0, 3], [0, 0, 1, 0, 0, 2, 0, 0, 0, 3], [0, 0, 1, 0, 0, 2, 0, 0, 0, 3], [0, 0, 1, 0, 0, 2, 0, 0, 0, 3]], [[4, 0, 5, 0, 1, 6, 0, 0, 2, 7], [4, 0, 5, 0, 1, 6, 0, 0, 2, 7], [4, 0, 5, 0, 1, 6, 0, 0, 2, 7], [4, 0, 5, 0, 1, 6, 0, 0, 2, 7], [4, 0, 5, 0, 1, 6, 0, 0, 2, 7], [4, 0, 5, 0, 1, 6, 0, 0, 2, 7]], [[4, 0, 5, 0, 1, 6, 0, 0, 2, 7], [4, 0, 5, 0, 1, 6, 0, 0, 2, 7], [4, 0, 5, 0, 1, 6, 0, 0, 2, 7], [4, 0, 5, 0, 1, 6, 0, 0, 2, 7], [4, 0, 5, 0, 1, 6, 0, 0, 2, 7], [4, 0, 5, 0, 1, 6, 0, 0, 2, 7]], [[8, 4, 9, 0, 5, 10, 0, 1, 6, 11], [8, 4, 9, 0, 5, 10, 0, 1, 6, 11], [8, 4, 9, 0, 5, 10, 0, 1, 6, 11], [8, 4, 9, 0, 5, 10, 0, 1, 6, 11], [8, 4, 9, 0, 5, 10, 0, 1, 6, 11], [8, 4, 9, 0, 5, 10, 0, 1, 6, 11]], [[8, 4, 9, 0, 5, 10, 0, 1, 6, 11], [8, 4, 9, 0, 5, 10, 0, 1, 6, 11], [8, 4, 9, 0, 5, 10, 0, 1, 6, 11], [8, 4, 9, 0, 5, 10, 0, 1, 6, 11], [8, 4, 9, 0, 5, 10, 0, 1, 6, 11], [8, 4, 9, 0, 5, 10, 0, 1, 6, 11]], [[8, 4, 9, 0, 5, 10, 0, 1, 6, 11], [8, 4, 9, 0, 5, 10, 0, 1, 6, 11], [8, 4, 9, 0, 5, 10, 0, 1, 6, 11], [8, 4, 9, 0, 5, 10, 0, 1, 6, 11], [8, 4, 9, 0, 5, 10, 0, 1, 6, 11], [8, 4, 9, 0, 5, 10, 0, 1, 6, 11]], [[12, 8, 13, 4, 9, 14, 0, 5, 10, 15], [12, 8, 13, 4, 9, 14, 0, 5, 10, 15], [12, 8, 13, 4, 9, 14, 0, 5, 10, 15], [12, 8, 13, 4, 9, 14, 0, 5, 10, 15], [12, 8, 13, 4, 9, 14, 0, 5, 10, 15], [12, 8, 13, 4, 9, 14, 0, 5, 10, 15]], [[12, 8, 13, 4, 9, 14, 0, 5, 10, 15], [12, 8, 13, 4, 9, 14, 0, 5, 10, 15], [12, 8, 13, 4, 9, 14, 0, 5, 10, 15], [12, 8, 13, 4, 9, 14, 0, 5, 10, 15], [12, 8, 13, 4, 9, 14, 0, 5, 10, 15], [12, 8, 13, 4, 9, 14, 0, 5, 10, 15]], [[12, 8, 13, 4, 9, 14, 0, 5, 10, 15], [12, 8, 13, 4, 9, 14, 0, 5, 10, 15], [12, 8, 13, 4, 9, 14, 0, 5, 10, 15], [12, 8, 13, 4, 9, 14, 0, 5, 10, 15], [12, 8, 13, 4, 9, 14, 0, 5, 10, 15], [12, 8, 13, 4, 9, 14, 0, 5, 10, 15]], [[12, 8, 13, 4, 9, 14, 0, 5, 10, 15], [12, 8, 13, 4, 9, 14, 0, 5, 10, 15], [12, 8, 13, 4, 9, 14, 0, 5, 10, 15], [12, 8, 13, 4, 9, 14, 0, 5, 10, 15], [12, 8, 13, 4, 9, 14, 0, 5, 10, 15], [12, 8, 13, 4, 9, 14, 0, 5, 10, 15]]]

prob_ga = [1000, 500, 250, 125, 63, 31, 16, 8, 4, 2, 1]
prob_theory = [1000, 667, 444, 296, 250, 167, 111, 74, 63, 42, 28, 19, 16, 10, 7, 5]
reverse_idx_fb_map = [(0,0,3),(1,1,3),(1,0,3),(2,2,3),(2,1,3),(2,0,3),(3,3,3),(3,2,3),(3,1,3),(3,0,3)]
reverse_idx_m_map = [(0,0,2),(1,1,2),(1,0,2),(2,2,2),(2,1,2),(2,0,2)]

# Genome[back_cnt][mid_cnt][front_cnt]]
gene = 1
sig_diff = 0
diff_buck = [0]*10
# change in neighbors
ncnt_ga_buck = {}
ncnt_th_buck = {}
# change in same color neighbors
sncnt_ga_buck = {}
sncnt_th_buck = {}

for n in range(10):
    for j in range(6):
        for i in range(10):
            # ignoring j (for mid group) since it doesn't change the gain/loss in neighbors
            (b, bs, _) = reverse_idx_fb_map[n]
            (f, fs, __) = reverse_idx_fb_map[i]
            (m, ms, ___) = reverse_idx_m_map[j]
            pth = prob_theory[g_theory[n][j][i]]
            pga = prob_ga[g_ga[n][j][i]]
            diff = abs(pth-pga)
            
            ndiff = (f - b)
            sndiff = (fs - bs)
            
            ncnt_ga_buck[str(ndiff)] = ncnt_ga_buck.get(str(ndiff), []) + [pga]
            ncnt_th_buck[str(ndiff)] = ncnt_th_buck.get(str(ndiff), []) + [pth]

            sncnt_ga_buck[str(sndiff)] = sncnt_ga_buck.get(str(sndiff), []) + [pga]
            sncnt_th_buck[str(sndiff)] = sncnt_th_buck.get(str(sndiff), []) + [pth]

            print("Gene:",gene, "\tN-Change: ",ndiff, "\tSameN-Change: ",sndiff)
            gene += 1
            if diff > 700:
                sig_diff += 1
                diff_buck[diff//100] += 1
                print("Back:({0:1d},{1:1d}) Mid:({2:1d},{3:1d}) Front:({4:1d},{5:1d})\nTheory:{6:d}\tGA:{7:d}\tDiff:{8:d}".format(b,bs, f, fs, m, ms, pth, pga, diff))                
            print()

# print("\nSignificanlty diff genes:",sig_diff)
# print("\nSignificanlty diff range:",diff_buck)

print("\nNeigbor Change -> Probs GA:", ncnt_ga_buck)
print("\nNeigbor Change -> Probs Theory:", ncnt_th_buck)

print("\nSame Neigbor Change -> Probs GA:", sncnt_ga_buck)
print("\nSame Neigbor Change -> Probs Theory:", sncnt_th_buck)